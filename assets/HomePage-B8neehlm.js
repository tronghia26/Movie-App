import{j as e,I as u,L as v,r as c,u as x,M as h}from"./index-CFyOaO_-.js";import{useModalContext as g}from"./ModalProvider-DiWS2mDZ.js";import{F as j,f as b}from"./index.es-B6tE8OHl.js";const w=i=>{const{openPopup:r}=g();if(!i.data)return e.jsx("div",{children:"No movie data available"});const{data:{id:l,backdrop_path:s,title:d,release_date:a,overview:n},trailerVideoKey:o}=i;return e.jsxs("div",{children:[e.jsx(u,{className:"aspect-video w-full brightness-50",src:s&&`https://image.tmdb.org/t/p/original/${s}`,width:900,height:500}),e.jsxs("div",{className:"absolute bottom-[10%] left-8 w-1/2 sm:w-1/3",children:[e.jsx("p",{className:"mb-2 font-bold sm:text-[2vw]",children:d}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 inline-block border border-gray-400 p-1 text-gray-400",children:"PG13"}),e.jsx("p",{className:"text-[1.2vw]",children:a})]}),e.jsx("div",{children:e.jsxs("div",{className:"mt-4 hidden text-[1.2vw] sm:block",children:[e.jsx("p",{className:"mb-2 font-bold",children:"Overview"}),e.jsx("p",{children:n})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{className:"mr-2 rounded bg-white px-4 py-2 text-[10px] text-black lg:text-lg",onClick:()=>{r(e.jsx("iframe",{title:"Trailer",src:`https://www.youtube.com/embed/${o}`,className:"aspect-video w-[50vw]"}))},children:[e.jsx(j,{icon:b}),"Trailer"]}),e.jsx(v,{to:`/movie/${l}`,children:e.jsx("button",{className:"rounded bg-slate-300/35 px-4 py-2 text-[10px] text-white lg:text-lg",children:"View Detail"})})]})]})]})},f=({movies:i,activeMovieId:r,setActiveMovieId:l})=>e.jsx("div",{className:"absolute right-8 bottom-[10%]",children:e.jsx("ul",{className:"flex gap-1",children:i.map(s=>e.jsx("li",{onClick:()=>l(s.id),className:`cursor-pointe h-1 w-6 ${s.id===r?"bg-slate-100":"bg-slate-600"}`},s.id))})}),N=()=>{const[i,r]=c.useState(),{data:l}=x({url:"/movie/popular"}),{data:s}=x({url:`/movie/${i}/videos`},{enabled:!!i}),d=(l.results||[]).slice(3,7);return c.useEffect(()=>{var a;(a=d[0])!=null&&a.id&&r(d[0].id)},[JSON.stringify(d)]),e.jsxs("div",{className:"relative text-white",children:[d.filter(a=>a.id===i).map(a=>{var n;return e.jsx(w,{data:a,trailerVideoKey:(n=((s==null?void 0:s.results)||[]).find(o=>o.type==="Trailer"&&o.site==="YouTube"))==null?void 0:n.key},a.id)}),e.jsx(f,{movies:d,activeMovieId:i,setActiveMovieId:r})]})},p=({title:i,tabs:r})=>{var o,m;const[l,s]=c.useState((o=r[0])==null?void 0:o.id),d=(m=r.find(t=>t.id===l))==null?void 0:m.url,{data:a}=x({url:d}),n=(a.results||[]).slice(0,12);return e.jsxs("div",{className:"bg-black px-8 py-10 text-[1.2vw] text-white",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsx("p",{className:"text-[2vw] font-bold",children:i}),e.jsx("ul",{className:"rouned flex rounded border border-white",children:r.map(t=>e.jsx("li",{onClick:()=>s(t.id),className:`cursor-pointer rounded px-2 py-1 ${l===t.id?"bg-white text-black":"text-white"}`,children:t.name},t.id))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4 lg:grid-cols-6 lg:gap-6",children:n.map(t=>e.jsx(h,{id:t.id,title:t.title||t.name,releaseDate:t.release_date||t.first_air_date,poster:t.poster_path,point:t.vote_average,mediaType:t.media_type||l},t.id))})]})},y=[{id:"all",name:"ALL",url:"/trending/all/day"},{id:"movie",name:"Movie",url:"/trending/movie/day"},{id:"tv",name:"TV Show",url:"/trending/tv/day"}],T=[{id:"movie",name:"Movie",url:"/movie/top_rated"},{id:"tv",name:"TV Show",url:"/tv/top_rated"}];function I(){return e.jsxs("div",{children:[e.jsx(N,{}),e.jsx(p,{title:"Trending",tabs:y}),e.jsx(p,{title:"Top Rated",tabs:T})]})}export{I as default};
