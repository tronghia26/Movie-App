import{j as e,a as N,u as p,b as g,R as _}from"./index-BbsyVic8.js";import{B as L,A as w}from"./ActorList-B_tUA-FJ.js";import"./index.es-CEXz98Qz.js";import"./ModalProvider-aZ8lyZG9.js";const j=(t,s="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(t),y=({movieInfo:t={}})=>e.jsxs("div",{children:[e.jsx("p",{className:"mb-4 text-[1.4vw] font-bold",children:"Infomation"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Original Name"}),e.jsx("p",{children:t.original_title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Original Country"}),e.jsx("p",{children:(t.origin_country||[]).map(s=>e.jsx("img",{src:`https://flagcdn.com/48x36/${s.toLowerCase()}.png`,className:"mt-4 mr-1 w-[1.4vw]"},s))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Status"}),e.jsx("p",{children:t.status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Budget"}),e.jsx("p",{children:j(t.budget)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Revenue"}),e.jsx("p",{children:j(t.revenue)})]})]}),B=()=>{var r,n,l,o,d,c,m,x;const{id:t}=N(),{data:s,isLoading:i}=p({url:`/movie/${t}?append_to_response=release_dates,credits,videos`,method:"GET"}),{data:h,isLoading:v}=p({url:`/movie/${t}/recommendations`,method:"GET"}),u=(h.results||[]).slice(0,12),b=(o=(l=(n=(((r=s.release_dates)==null?void 0:r.results)||[]).find(a=>a.iso_3166_1==="US"))==null?void 0:n.release_dates)==null?void 0:l[0])==null?void 0:o.certification,f=(((d=s.credits)==null?void 0:d.crew)||[]).filter(a=>["Director","Screenplay","Writer"].includes(a.job)).map(a=>({id:a.id,job:a.job,name:a.name}));return i?e.jsx(g,{}):e.jsxs("div",{children:[e.jsx(L,{title:s.title,backdrop_path:s.backdrop_path,poster_path:s.poster_path,release_date:s.release_date,genres:s.genres,point:s.vote_average,overview:s.overview,certification:b,crews:f,trailerVideoKey:(m=(((c=s.videos)==null?void 0:c.results)||[]).find(a=>a.type==="Trailer"))==null?void 0:m.key}),e.jsx("div",{className:"bg-black text-[1.2vw] text-white",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"flex-[2]",children:[e.jsx(w,{actors:((x=s.credits)==null?void 0:x.cast)||[]}),e.jsx(_,{mediaList:u,isLoading:v,title:"More like this",className:"mt-6"})]}),e.jsx("div",{className:"flex-1",children:e.jsx(y,{movieInfo:s})})]})})]})};export{B as default};
